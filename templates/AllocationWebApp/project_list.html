{% extends 'AllocationWebApp/layouts/base.html' %}

{% block title %} Projects {% endblock title %}

{% block content %}

    <div class="header-bar" style="background-color:rgb(0,83,152);">
        <h1>Projects</h1>
    </div>

    <div class="search-wrapper">
        <form method="GET" style="display: flex;">
            <input type="text" name="search-box" value="{{search_input}}" placeholder="Search">
            <input class="btn btn-light" type="submit" value="Submit">
        </form>
        {% if user_type == 'Admin' %}
        <a class="btn btn-light" href="{% url 'AllocationWebApp:project-create' %}" role="button">Create Project</a>
        {% endif %}
    </div>

    <div class="project-list-wrapper">

        {% for project in projects %}
            <div class="project-wrapper">
                <div class="project-display">
                    {{ project.title }}
                </div>
                <div class="project-display-supervisor">
                    {{ project.supervisor }}
                </div>
                <div class="project-links" align="right">
                    {% if user_type == 'Admin' %}
                        <a class="btn btn-light" href="{% url 'AllocationWebApp:project' project.id %}" role="button">View</a>
                        <a class="btn btn-light" href="{% url 'AllocationWebApp:project-edit' project.id %}" role="button">Edit</a>
                        <a class="btn btn-light" href="{% url 'AllocationWebApp:project-delete' project.id %}" role="button">Delete</a>
                    {% elif user_type == 'Student' or user_type == 'Supervisor' %}
                        <a class="btn btn-light" href="{% url 'AllocationWebApp:project' project.id %}" role="button">View</a>
                    {% endif %}
                </div>
                
            </div>
        {% endfor %}

    </div>

{% endblock content %}